CLASE 4 GITHUB, seuimos con el ejemplo de la granja

SON BASICAMENTE LOS PREDICADOS / FUNCIONES DE HASKELL Y COSAS DE LA GUIA DE LENGUAJES. Les puse predicados porque me acostumbre asi con LOGICO
# Modelar conjuntos

- A los conjuntos les decimos **COLECCIONES**
- Son **objetos** con **referencias** a otros objetos y como son objetos entienden mensajes
- Nos permiten trabajar de forma declarativa con abstracciones de alto nivel

Seria algo como
> ANIMALES (conjunto, un objeto en si) --> apunta a varios animales (otros objetos) --> gallinas/vacas/cerdos/jabalies

# Tipos de colecciones
Hay 2 tipos de colecciones importantes, list y set

## LIST

Son listas
- Se construyen con: [] o new List()
- Admiten repetidos
- Tienen un orden (posicion)

## SET

- Se construyen con: #{} o new Set()
- No tienen repetidos
- No tienen orden

# Operaciones sin efecto sobre listas y colecciones en Wollok

Aca vamos a explicar las operaciones que se pueden realizar sobre listas o colecciones en Wollok y que **no modifican** la colección original. Estas operaciones permiten consultar, transformar o derivar información sin alterar los datos originales.

Vamos a ordenarlas por las operaciones para listas, luego las de Set y luego las que se usan para las dos

## Operaciones sobre listas

---

### `get(posicion)`

Devuelve el elemento en la posición dada (empieza en 0).

```wollok
var letras = list("a", "b", "c")
console.print(letras.get(1)) // "b"
```

---
### `take(n)`

Devuelve una nueva lista con los primeros `n` elementos.

```wollok
var nums = list(10, 20, 30, 40)
console.print(nums.take(2)) // [10, 20]
```

---

### `drop(n)`

Devuelve una nueva lista sin los primeros `n` elementos.

```wollok
var nums = list(10, 20, 30, 40)
console.print(nums.drop(2)) // [30, 40]
```

---

### `head` / `first`

Devuelve el primer elemento.

```wollok
var nums = list(5, 6, 7)
console.print(nums.head)  // 5
console.print(nums.first) // 5
```

---

### `last`

Devuelve el último elemento.

```wollok
var nums = list(5, 6, 7)
console.print(nums.last) // 7
```

---

### `reverse`

Devuelve una nueva lista con los elementos en orden inverso.

```wollok
var nums = list(1, 2, 3)
console.print(nums.reverse) // [3, 2, 1]
```
---
## Operaciones sobre sets

---
### `union`

Devuelve un nuevo set con los elementos de ambos sets, sin duplicados.

```wollok
var a = set(1, 2)
var b = set(2, 3)
console.print(a.union(b)) // Set(1, 2, 3)
```

---

### `intersection`

Devuelve un nuevo set con los elementos comunes a ambos sets.

```wollok
var a = set(1, 2)
var b = set(2, 3)
console.print(a.intersection(b)) // Set(2)
```

## Operaciones sobre listas y sets

---

### `size`

Devuelve la cantidad de elementos en la colección.

```wollok
var numeros = list(1, 2, 3)
console.print(numeros.size) // 3
```

---

### `isEmpty`

Retorna `true` si la colección está vacía.

```wollok
var vacia = list()
console.print(vacia.isEmpty) // true
```
---
### `contains(elemento)`

Retorna `true` si el elemento está en la colección.

```wollok
var letras = list("a", "b", "c")
console.print(letras.contains("b")) // true
```

---

### `max`

Devuelve el valor máximo de la colección.

```wollok
var nums = list(10, 30, 20)
console.print(nums.max) // 30
```

---

### `min`

Devuelve el valor mínimo de la colección.

```wollok
var nums = list(10, 30, 20)
console.print(nums.min) // 10
```

---

### `sum`

Devuelve la suma de los elementos numéricos.

```wollok
var nums = list(1, 2, 3)
console.print(nums.sum) // 6
```

---

### `flatten`

Aplana una colección de colecciones en una sola lista.

```wollok
var lista = list(list(1, 2), list(3, 4))
console.print(lista.flatten) // [1, 2, 3, 4]
```

---

### `anyone`

Devuelve un elemento aleatorio de la colección.

```wollok
var letras = list("a", "b", "c")
console.print(letras.anyone) // Puede imprimir "a", "b" o "c"
```

---

### `asSet`

Convierte la colección en un set, eliminando duplicados.

```wollok
var lista = list(1, 2, 2, 3)
console.print(lista.asSet) // Set(1, 2, 3)
```

---

# Operaciones avanzadas (de orden superior) sin efecto sobre colecciones/listas

Aca vamos a explicar las operaciones que se pueden realizar sobre listas o colecciones en Wollok y que **no modifican** la colección original. Estas operaciones permiten consultar, transformar o derivar información sin alterar los datos originales.

Vamos a ordenarlas por las operaciones para **listas**, luego las de **Set** y luego las que se usan para **ambas**.

# Operaciones sobre Listas

### `map(bloque)`

- Aplica un bloque a cada elemento de la lista y devuelve una nueva lista con los resultados.
- Aplica a: `List`

```wollok
var nums = list(1, 2, 3)
var cuadrados = nums.map( n => n * n )
console.print(cuadrados) // [1, 4, 9]
```

### `filter(bloqueBool)`

- Devuelve una nueva lista con los elementos que cumplen la condición del bloque.
- Aplica a: `List`

```wollok
var nums = list(1, 2, 3, 4)
var pares = nums.filter(n => n % 2 == 0)
console.print(pares) // [2, 4]
```

### `flatMap(bloque)`

- Aplica un bloque a cada elemento y aplana el resultado en una sola lista.
- Aplica a: `List`

```wollok
var listas = list(list(1), list(2,3))
var aplanado = listas.flatMap(l => l.map(x => x*2))
console.print(aplanado) // [2, 4, 6]
```

### `sortedBy(bloqueOrdenable)`

- Devuelve una nueva lista ordenada según el valor que devuelve el bloque para cada elemento.
- Aplica a: `List`

```wollok
var nums = list(5, 2, 8)
var ordenados = nums.sortedBy(n => n)
console.print(ordenados) // [2, 5, 8]
```

---

## Operaciones sobre Set

### `map(bloque)`

```wollok
var s = set(1,2,3)
var cuadrados = s.map(n => n*n)
console.print(cuadrados) // Set(1, 4, 9)
```

### `filter(bloqueBool)`

```wollok
var s = set(1,2,3,4)
var pares = s.filter(n => n%2 == 0)
console.print(pares) // Set(2,4)
```

### `any(bloqueBool)`

- Devuelve `true` si algún elemento cumple la condición.
- Aplica a: `Set`

```wollok
var s = set(1,2,3)
console.print(s.any(n => n > 2)) // true
```

### `all(bloqueBool)`

- Devuelve `true` si todos los elementos cumplen la condición.
- Aplica a: `Set`

```wollok
var s = set(1,2,3)
console.print(s.all(n => n > 0)) // true
```

---

## Operaciones sobre ambas (List y Set)

### `sum(bloqueNumerico)`

- Devuelve la suma de los valores que devuelve el bloque para cada elemento.

```wollok
var nums = list(1,2,3)
console.print(nums.sum(n => n*2)) // 12
```

### `fold(valorInicial, bloqueDe2)`

- Acumula un resultado a partir de los elementos de la colección usando un bloque de dos parámetros (acumulador y elemento).

```wollok
var nums = list(1,2,3)
var producto = nums.fold(1, (acc, n) => acc*n)
console.print(producto) // 6
```

### `find(bloqueBool)`

- Devuelve el primer elemento que cumple la condición, o `null` si no hay ninguno.

```wollok
var nums = list(1,2,3,4)
console.print(nums.find(n => n%2 == 0)) // 2
```

### `findOrElse(bloqueBool, bloqueSinParametros)`

- Devuelve el primer elemento que cumple la condición o el valor del bloque alternativo si no existe.

```wollok
var nums = list(1,3,5)
console.print(nums.findOrElse(n => n%2 == 0, () => 0)) // 0
```

### `count(bloqueBool)`

- Devuelve la cantidad de elementos que cumplen la condición.

```wollok
var nums = list(1,2,3,4)
console.print(nums.count(n => n%2 == 0)) // 2
```

### `max(bloqueOrdenable)`

- Devuelve el elemento máximo según el valor que devuelve el bloque.

```wollok
var nums = list(1,5,3)
console.print(nums.max(n => n)) // 5
```

### `min(bloqueOrdenable)`

- Devuelve el elemento mínimo según el valor que devuelve el bloque.

```wollok
var nums = list(1,5,3)
console.print(nums.min(n => n)) // 1
```

# Mensajes de colecciones con efecto

En este archivo se explican operaciones que se pueden realizar sobre listas o colecciones en Wollok y que **modifican** la colección original o producen **efectos secundarios**. Estas operaciones no devuelven una nueva colección derivada, sino que cambian el estado de la colección o de otras variables externas.

Vamos a ordenarlas por tipo de operación, con ejemplo para cada una.

---

## Operaciones sobre colecciones

### `add(objeto)`

- Agrega un objeto a la colección.

```wollok
var lista = list(1, 2)
lista.add(3)
console.print(lista) // [1, 2, 3]
```

### `addAll(otraColeccion)`

- Agrega todos los elementos de otra colección.

```wollok
var a = list(1,2)
var b = list(3,4)
a.addAll(b)
console.print(a) // [1, 2, 3, 4]
```

### `forEach(bloqueConEfectoDe1)`

- Ejecuta un bloque con efecto sobre cada elemento de la colección.

```wollok
var nums = list(1, 2, 3)
var total = 0
nums.forEach(n => total = total + n)
console.print(total) // 6
```

### `remove(objeto)`

- Elimina el objeto de la colección (si existe).

```wollok
var lista = list(1, 2, 3)
lista.remove(2)
console.print(lista) // [1, 3]
```

### `removeAllSuchThat(bloqueBoolDe1)`

- Elimina todos los elementos que cumplan la condición del bloque.

```wollok
var nums = list(1,2,3,4)
nums.removeAllSuchThat(n => n%2 == 0)
console.print(nums) // [1, 3]
```

### `clear()`

- Elimina todos los elementos de la colección.

```wollok
var lista = list(1,2,3)
lista.clear()
console.print(lista) // []
```

### `sortBy(bloqueBoolDe2)`

- Ordena la lista **in-place** según el valor que devuelve el bloque.

```wollok
var nums = list(5,2,8)
nums.sortBy(n => n)
console.print(nums) // [2, 5, 8]
```

---

## Operaciones sobre números

### `times(bloqueConEfectoDe1)`

- Ejecuta un bloque con efecto **la cantidad de veces indicada**.

```wollok
var total = 0
3.times(() => total = total + 2)
console.print(total) // 6
```
